var fs = require("fs");

// fs.readFile("./duoyun.bmp", function (err, bytesRead) {
//     if (err) throw err;
//     console.log((bytesRead).toString())

// })
// buffer=bytearray(b'\x00\x07\x80\x00\x00\xfe\x1f\xc0\xc0\x00\xfc\x38\xe0\xe0\x00\x00\x30\x61\xe0\x00\x00\x30\x61\xb0\x00\x3e\x30\x63\x30\x00\x3c\x30\x21\xb1\x80\x00\x30\x21\xf1\xc0\x00\x30\x20\xc3\xc0\xfe\x30\x20\x03\x60\x7c\x30\x20\x06\x60\x00\x30\x20\x07\x60\x00\x30\x20\x03\xc0\x3e\x30\x20\x01\x80\x1c\x30\x20\x00\x00\x00\x30\x20\x00\x00\x00\x30\x20\x00\x00\xfe\x33\x20\x00\x00\x7c\x33\x20\x00\x00\x00\x33\x20\x00\x00\x00\x33\x20\x00\x00\x3e\x33\x20\x00\x00\x00\x33\x20\x00\x00\x00\x33\x20\x00\x00\x7c\x33\x20\x00\x00\xfe\x33\x20\x00\x00\x00\x73\x30\x00\x00\x00\xe3\x38\x00\x00\x00\xc7\x18\x00\x00\x01\x8f\x8c\x00\x00\x01\x9c\xcc\x00\x00\x01\x98\xcc\x00\x00\x01\x98\xcc\x00\x00\x01\x98\xcc\x00\x00\x01\x8f\xcc\x00\x00\x00\xc7\x1c\x00\x00\x00\xe0\x18\x00\x00\x00\x70\x70\x00\x00\x00\x3f\xe0\x00\x00\x00\x0f\x80\x00\x00')


var str = ('\x00\x07\x80\x00\x00\xfe\x1f\xc0\xc0\x00\xfc\x38\xe0\xe0\x00\x00\x30\x61\xe0\x00\x00\x30\x61\xb0\x00\x3e\x30\x63\x30\x00\x3c\x30\x21\xb1\x80\x00\x30\x21\xf1\xc0\x00\x30\x20\xc3\xc0\xfe\x30\x20\x03\x60\x7c\x30\x20\x06\x60\x00\x30\x20\x07\x60\x00\x30\x20\x03\xc0\x3e\x30\x20\x01\x80\x1c\x30\x20\x00\x00\x00\x30\x20\x00\x00\x00\x30\x20\x00\x00\xfe\x33\x20\x00\x00\x7c\x33\x20\x00\x00\x00\x33\x20\x00\x00\x00\x33\x20\x00\x00\x3e\x33\x20\x00\x00\x00\x33\x20\x00\x00\x00\x33\x20\x00\x00\x7c\x33\x20\x00\x00\xfe\x33\x20\x00\x00\x00\x73\x30\x00\x00\x00\xe3\x38\x00\x00\x00\xc7\x18\x00\x00\x01\x8f\x8c\x00\x00\x01\x9c\xcc\x00\x00\x01\x98\xcc\x00\x00\x01\x98\xcc\x00\x00\x01\x98\xcc\x00\x00\x01\x8f\xcc\x00\x00\x00\xc7\x1c\x00\x00\x00\xe0\x18\x00\x00\x00\x70\x70\x00\x00\x00\x3f\xe0\x00\x00\x00\x0f\x80\x00\x00')
//ubinascii.hexlify(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00\x07\x00\x00\x00\x00\x00\x00\x00\x07\x00\x00\x00\x00\x00\x00\x00\x1f\xc0\x00\x00\x00\x00\x00\x00\x7f\xf0\x00\x00\x00\x00\x00\x01\xff\xf8\x00\x00\x00\x00\x00\x03\xe0\x7c\x00\x00\x00\x00\x00\x03\x80\x1e\x00\x00\x00\x00\x00\x07\x00\x0f\x00\x00\x00\x00\x00\x0f\x00\x07\x00\x00\x00\x00\x00\x0e\x20\x27\x00\x00\x00\x00\x00\x0e\x38\xe3\x80\x00\x00\x00\x00\x0e\x1f\x83\x80\x00\x00\x00\x00\x0e\x06\x03\x80\x00\x00\x7f\x80\x0e\x00\x03\x80\x0f\xf0\x1f\xff\xfe\x00\x07\xff\xff\xc0\x01\xff\xff\x00\x07\xff\xfc\x00\x00\xff\xff\x00\x0f\xff\xf8\x00\x01\xfd\xff\x80\x1f\xf9\xfc\x00\x03\xfc\x1f\xc0\x3f\x81\xfc\x00\x03\xfc\x01\xfd\xfc\x03\xfc\x00\x03\xfc\x00\xff\xf0\x03\xfc\x00\x01\xfc\x00\x3f\xe0\x01\xfc\x00\x00\xf8\x00\x00\x00\x00\xf8\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
/**
 * byte型转换十六进制
 * @param b
 * @returns {string}
 * @constructor
 */
const Bytes2HexString = (b) => {
    let hexs = "";
    for (let i = 0; i < b.length; i++) {
        let hex = (b[i]).toString(16);
        if (hex.length === 1) {
            hexs = '0' + hex;
        }
        hexs += hex.toUpperCase();
    }
    return hexs;
}

const Hexstring2btye = (str) => {
    let pos = 0;
    let len = str.length;
    if (len % 2 != 0) {
        return null;
    }
    len /= 2;
    let hexA = new Array();
    for (let i = 0; i < len; i++) {
        let s = str.substr(pos, 2);
        let v = parseInt(s, 16);
        hexA.push(v);
        pos += 2;
    }
    return hexA;
}
// console.log(Hexstring2btye(str))
fs.readFile('./雨.BMP',function(err,data){
    if(err){
        console.log(err)
    } else {
        const buffer = new Buffer.from(data);
        console.info(buffer.toString("utf16le"))
        // console.log('数据读取成功', data,(buffer.toString('hex')));
    }
});

// const buffer = new Buffer.from(str)
// fs.writeFileSync("./雨.BMP",buffer)
// console.log(buffer.toJSON())